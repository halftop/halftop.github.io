<!DOCTYPE html>
<html>
  <head>
      
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>1/2é¡¶ç‚¹</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="description" content="æœ‰è¾“å…¥æœ‰è¾“å‡ºï¼Œæ‰æ˜¯æ­£ç¡®çš„å­¦ä¹ æ–¹å¼ã€‚"/>
<meta name="keywords" content="æœ‰è¾“å…¥æœ‰è¾“å‡ºï¼Œæ‰æ˜¯æ­£ç¡®çš„å­¦ä¹ æ–¹å¼ã€‚"/>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" href="https://halftop.github.io/favicon.ico">

<link rel="stylesheet" href="https://halftop.github.io/styles/main.css">

<!-- Modernizr JS -->
<script src="https://halftop.github.io/media/scripts/_vendors/modernizr-2.6.2.min.js"></script>
<!-- FOR IE9 below -->
<!--[if lt IE 9]>
<scripts src="https://halftop.github.io/media/scripts/_vendors/respond.min.js"></scripts>
<![endif]-->

<!-- Comment -->

    
        <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
    

    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/tomorrow-night.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<link crossorigin="anonymous" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" href="https://lib.baomitu.com/font-awesome/5.8.1/css/all.min.css" rel="stylesheet">

  </head>
  <body>
  
<div id="fh5co-offcanvas">
    <a href="#!" class="fh5co-close-offcanvas js-fh5co-close-offcanvas">
        <span><i class="icon-cross3"></i> <span>Close</span></span>
    </a>
    <div class="fh5co-bio">
        <figure>
            <img src="https://halftop.github.io/media/images/avatar.png" alt="1/2é¡¶ç‚¹" class="img-responsive">
        </figure>
        <h3 class="heading">ABOUT ME</h3>
        <h2>1/2é¡¶ç‚¹</h2>
        <p>æœ‰è¾“å…¥æœ‰è¾“å‡ºï¼Œæ‰æ˜¯æ­£ç¡®çš„å­¦ä¹ æ–¹å¼ã€‚</p>
        <ul class="fh5co-social">
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
        </ul>
    </div>

    <div class="fh5co-menu">
        <div class="fh5co-box">
            <h3 class="heading">æœç´¢</h3>
            <form action="#">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="è¾“å…¥å…³é”®å­—">
                </div>
            </form>
        </div>
        <div class="fh5co-box">
            <h3 class="heading">æ ‡ç­¾</h3>
            <ul>
                
                    <li><a href="https://halftop.github.io/tag/f0tARmjal">IC</a></li>
                
                    <li><a href="https://halftop.github.io/tag/ADa051R6R">Verilog HDL</a></li>
                
                    <li><a href="https://halftop.github.io/tag/bwS6E4Jqc">å­¦ä¹ ç¬”è®°</a></li>
                
                    <li><a href="https://halftop.github.io/tag/9rG5j0Nww">FPGA</a></li>
                
            </ul>
        </div>
    </div>
</div>

<header id="fh5co-header">
    <div class="container-fluid">
        <div class="row">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <ul class="fh5co-social">
                
                    <li>
                        <a href="/"
                         >
                            é¦–é¡µ
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives"
                         >
                            å½’æ¡£
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags"
                         >
                            æ ‡ç­¾
                        </a>
                    </li>
                
                    <li>
                        <a href="/post/about"
                         >
                            å…³äº
                        </a>
                    </li>
                
            </ul>
            <div class="col-lg-12 col-md-12 text-center">
                <h1 id="fh5co-logo">
                    <a href="https://halftop.github.io">1/2é¡¶ç‚¹</a>
                </h1>
            </div>
        </div>
    </div>
</header>


<!--  <a href="#" class="fh5co-post-prev"><span>ğŸ‘ˆ Prev</span></a>-->
<!--  <a href="#" class="fh5co-post-next"><span>Next ğŸ‘‰</span></a>-->

  <div class="container-fluid">
      <div class="row fh5co-post-entry single-entry">
          <article class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0">
              <figure class="animate-box">
                  
                      <img src="https://ws1.sinaimg.cn/mw690/7f79daaely1g2cwf97inyj20xc0irq2z.jpg" alt="Verilog99é¢˜â€”â€”12-21é¢˜" class="img-responsive">
                  
              </figure>
              <span class="fh5co-meta animate-box">
                  
                      <div class="tag-container">
                          
                              <a href="https://halftop.github.io/tag/9rG5j0Nww" class="tag">FPGA, </a>
                          
                              <a href="https://halftop.github.io/tag/ADa051R6R" class="tag">Verilog HDL, </a>
                          
                              <a href="https://halftop.github.io/tag/bwS6E4Jqc" class="tag">å­¦ä¹ ç¬”è®°, </a>
                          
                      </div>
                  
              </span>
              <h2 class="fh5co-article-title animate-box">Verilog99é¢˜â€”â€”12-21é¢˜</h2>
              <span class="fh5co-meta fh5co-date animate-box">2019-04-02</span>

              <div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-left content-article">
                  <div class="row">
                      <div class="col-md-12 animate-box post-content">
                          <p> <h2 id="å‰è¨€">å‰è¨€</h2>
<p>1-7é¢˜æ˜¯æ•°å­—ç”µè·¯åŸºç¡€ï¼›
8-21é¢˜æ˜¯ç»„åˆé€»è¾‘ç›¸å…³ï¼›
è¿™ç¯‡æŠŠå‰©ä¸‹çš„ç»„åˆé€»è¾‘ç›¸å…³çš„é¢˜ç›®å…¨éƒ¨å†™å®Œã€‚</p>
 <!-- more --> 
<h3 id="é¢˜ç›®012">é¢˜ç›®012</h3>
<p><strong>012.è®¾è®¡1bitå…¨åŠ å™¨ï¼Œé‡‡ç”¨verilogæè¿°å¹¶ç”»å‡ºé—¨çº§ç”µè·¯å›¾ã€‚</strong></p>
<h4 id="verilogæè¿°">verilogæè¿°</h4>
<pre><code class="language-v">module full_adder(
	input	a,b,cin,
	output	out,cout
);

assign {cout,out} = a + b + cin;

//assign out = a^b^cin;
//assign cout = a&amp;b|b&amp;cin|a&amp;cin;

endmodule
</code></pre>
<h4 id="æ€è·¯åŠç”µè·¯å›¾">æ€è·¯åŠç”µè·¯å›¾</h4>
<center>
    <img src="https://wx4.sinaimg.cn/large/7f79daaely1g1oeamk6c8j20f00h9t9f.jpg" alt="æ€è·¯åŠç”µè·¯å›¾" title="æ€è·¯åŠç”µè·¯å›¾" width="500
    ">
</center>
<h3 id="é¢˜ç›®013">é¢˜ç›®013</h3>
<p><strong>013.è®¾è®¡2-4è¯‘ç å™¨ã€‚é‡‡ç”¨verilogæè¿°å¹¶ç”»å‡ºé—¨çº§ç”µè·¯å›¾ã€‚</strong></p>
<h4 id="verilogæè¿°-2">verilogæè¿°</h4>
<pre><code class="language-v">module decoder2_4(
	input		[1:0]	a,
	output	reg	[3:0]	b
);
always @ (*)
	case(a)
		2'b00:b=4'b1110;
		2'b01:b=4'b1101;
		2'b10:b=4'b1011;
		2'b11:b=4'b0111;
		default:b=4'b1111;
	endcase
endmodule
</code></pre>
<h4 id="é—¨çº§ç”µè·¯å›¾">é—¨çº§ç”µè·¯å›¾</h4>
<p>ç”µè·¯å›¾åœ¨ä¸‹é¢ï¼Œå› ä¸ºåç›¸å™¨ã€ä¸éé—¨å’Œæˆ–éé—¨æ˜¯cmosé›†æˆç”µè·¯çš„åŸºæœ¬å•å…ƒï¼Œæ‰€ä»¥é€‰æ‹©äº†è¿™æ ·çš„å®ç°å½¢å¼ã€‚</p>
<figure class="half">
	<img src="https://ws1.sinaimg.cn/large/7f79daaely1g1oepelcemj21341d0djp.jpg" alt="å¡è¯ºå›¾åŒ–ç®€" title="å¡è¯ºå›¾åŒ–ç®€" width="220">
	<img src="https://ws3.sinaimg.cn/large/7f79daaely1g1oeqjjlauj20640570sn.jpg" alt="2-4è¯‘ç å™¨é—¨çº§ç”µè·¯å›¾" title="2-4è¯‘ç å™¨é—¨çº§ç”µè·¯å›¾">
</figure>
<h3 id="é¢˜ç›®014">é¢˜ç›®014</h3>
<p><strong>014.è®¾è®¡BCDè¯‘ç å™¨ï¼Œè¾“å…¥0~9ã€‚é‡‡ç”¨verilogæè¿°å¹¶ç”»å‡ºé—¨çº§ç”µè·¯å›¾ã€‚</strong></p>
<h4 id="verilogæè¿°-3">verilogæè¿°</h4>
<pre><code class="language-v">module BCD_Decoder(
	input		[3:0]	A,
	//output	reg	[9:0]	Y_L
	output		[9:0]	Y_L
);

always @ (*)
	case(A)
		4'd0:Y_L=10'b11_1111_1110;
		4'd1:Y_L=10'b11_1111_1101;
		4'd2:Y_L=10'b11_1111_1011;
		4'd3:Y_L=10'b11_1111_0111;
		4'd4:Y_L=10'b11_1110_1111;
		4'd5:Y_L=10'b11_1101_1111;
		4'd6:Y_L=10'b11_1011_1111;
		4'd7:Y_L=10'b11_0111_1111;
		4'd8:Y_L=10'b10_1111_1111;
		4'd9:Y_L=10'b01_1111_1111;
		default:Y_L=10'b11_1111_1111;
	endcase
/*
assign Y_L[0] = ~(~A[3] &amp; ~A[2] &amp; ~A[1] &amp; ~A[0]);
assign Y_L[1] = ~(~A[3] &amp; ~A[2] &amp; ~A[1] &amp; A[0]);
assign Y_L[2] = ~(~A[3] &amp; ~A[2] &amp; A[1]  &amp; ~A[0]);
assign Y_L[3] = ~(~A[3] &amp; ~A[2] &amp; A[1]  &amp; A[0]);
assign Y_L[4] = ~(~A[3] &amp; A[2]  &amp; ~A[1] &amp; ~A[0]);
assign Y_L[5] = ~(~A[3] &amp; A[2]  &amp; ~A[1] &amp; A[0]);
assign Y_L[6] = ~(~A[3] &amp; A[2]  &amp; A[1]  &amp; ~A[0]);
assign Y_L[7] = ~(~A[3] &amp; A[2]  &amp; A[1]  &amp; A[0]);
assign Y_L[8] = ~(A[3]  &amp; ~A[2] &amp; ~A[1] &amp; ~A[0]);
assign Y_L[9] = ~(A[3]  &amp; ~A[2] &amp; ~A[1] &amp; A[0]);
*/
endmodule
</code></pre>
<h4 id="æ€è·¯åŠç”µè·¯å›¾-2">æ€è·¯åŠç”µè·¯å›¾</h4>
<figure class="third">
    <img src="https://wx1.sinaimg.cn/large/7f79daaely1g1ojcupxhlj208w06qt8x.jpg" alt="BCDè¯‘ç å™¨åŠŸèƒ½è¡¨" title="BCDè¯‘ç å™¨åŠŸèƒ½è¡¨">
    <img src="https://wx3.sinaimg.cn/large/7f79daaely1g1ojh5y4ypj208w0b23yp.jpg" alt="é—¨çº§ç”µè·¯å›¾" title="é—¨çº§ç”µè·¯å›¾">
    <img src="https://wx3.sinaimg.cn/large/7f79daaely1g1ojia0g7vj208w05qaa0.jpg" alt="Vivadoç»¼åˆçš„é—¨çº§ç”µè·¯å›¾" title="Vivadoç»¼åˆçš„é—¨çº§ç”µè·¯å›¾">
</figure>
<h3 id="é¢˜ç›®015">é¢˜ç›®015</h3>
<p><strong>ç”¨verilogè®¾è®¡8bitå¥‡å¶æ ¡éªŒç”µè·¯ã€‚</strong></p>
<h4 id="æ€è·¯">æ€è·¯</h4>
<p>è¿™é“é¢˜ç…§æŠ„ç­”æ¡ˆï¼š</p>
<ol>
<li>å¥‡æ ¡éªŒçš„å«ä¹‰ï¼šåŸæ•°å’Œæ ¡éªŒä½ä¸­å…±æœ‰å¥‡æ•°ä¸ª1</li>
<li>å¶æ ¡éªŒçš„å«ä¹‰ï¼šåŸæ•°å’Œæ ¡éªŒä½ä¸­å…±æœ‰å¶æ•°ä¸ª1</li>
<li>logic[7:0] dataï¼›åˆ™dataè‡ªå¼‚æˆ–çš„ç»“æœä¸ºï¼šè‹¥dataä¸­æœ‰å¥‡æ•°ä¸ª1ï¼Œåˆ™^data = 1ï¼›è‹¥dataä¸­æœ‰å¶æ•°ä¸ª1ï¼Œåˆ™^data = 0ã€‚å¯¹äºè¿™ä¸€ç‚¹ï¼Œå¯ä»¥è¿™ä¹ˆç†è§£ï¼šè‹¥æœ‰å¥‡æ•°ä¸ª1ï¼Œåˆ™æœ‰å¥‡æ•°ä¸ª0ï¼Œæ‰€ä»¥<code>^data = ï¼ˆå¥‡æ•°ä¸ª1é€ä½å¼‚æˆ–çš„ç»“æœï¼‰ ^ ï¼ˆå¥‡æ•°ä¸ª0é€ä½å¼‚æˆ–çš„ç»“æœï¼‰ = 1 ^ 0 = 1</code>ï¼›è‹¥æœ‰å¶æ•°ä¸ª1ï¼Œåˆ™æœ‰å¶æ•°ä¸ª0ï¼Œæ‰€ä»¥<code>^data = ï¼ˆå¶æ•°ä¸ª1é€ä½å¼‚æˆ–çš„ç»“æœï¼‰ ^ ï¼ˆå¶æ•°ä¸ª0é€ä½å¼‚æˆ–çš„ç»“æœï¼‰ = 0 ^ 0 =0</code>ã€‚</li>
</ol>
<h4 id="verilogæè¿°-4">verilogæè¿°</h4>
<pre><code class="language-v">module odd_even_check(
	input [7:0] din;
	output 		dout_even;
	output 		dout_odd;
);

assign dout_odd = ^din;        //å¥‡æ ¡éªŒä½
assign dout_even = ~dout_odd;    //å¶æ ¡éªŒä½

endmodule
</code></pre>
<h3 id="é¢˜ç›®016">é¢˜ç›®016</h3>
<p><strong>ç”¨verilogæè¿°ä¸€ä¸ªå¤šè·¯å¤ç”¨å™¨ï¼Œè¾“å…¥çš„é€šé“æ•°ç›®Nï¼Œæ¯ä¸€è·¯çš„ä½å®½ä¸ºMã€‚</strong></p>
<h4 id="æ³¨æ„">æ³¨æ„</h4>
<p>Verilogä¸å…è®¸åœ¨ç«¯å£å®šä¹‰äºŒç»´æ•°ç»„ã€‚</p>
<h4 id="verilogæè¿°-5">verilogæè¿°</h4>
<p>æ€è·¯å¤§æ¦‚å°±æ˜¯è¿™æ ·ï¼Œä½†æ˜¯è¿™ä¸ªä»¿çœŸæ²¡åšé€šï¼Œè¿˜ä¸ç¡®å®šæ˜¯å¦æ­£ç¡®ã€‚</p>
<pre><code class="language-v">module test
#(
	parameter N	= 8,
	parameter M	= 8
)
(
	input	[N*M-1:0]	i_data,
	input	[clogb2(N):0]	i_sel,
	output	[M-1:0]	o_data
);

assign o_data = i_data[(M*i_sel)+:M];

function integer clogb2 (input integer depth);
	begin
		for(clogb2=0; depth&gt;0; clogb2=clogb2+1)
		depth = depth &gt;&gt; 1;
	end
endfunction
endmodule
</code></pre>
<h3 id="é¢˜ç›®017">é¢˜ç›®017</h3>
<p>ç¬¬åä¸ƒé¢˜.ç”¨Verilogå®ç° <code>z = abs(x - y)</code></p>
<ol>
<li>xå’Œyæ˜¯8bitæ— ç¬¦å·æ•°</li>
<li>xå’Œyæ˜¯8bitæœ‰ç¬¦å·æ•°(2è¡¥ç )</li>
</ol>
<h4 id="verilogæè¿°-6">verilogæè¿°</h4>
<p>æ— ç¬¦å·æ•°ï¼š</p>
<pre><code class="language-v">module abs(
    input   [7:0]   i_x,
    input   [7:0]   i_y,
    output [7:0]   o_z
    );

assign  o_z= (i_x &gt; i_y) ? (i_x - i_y) : (i_y - i_x);

endmodule
</code></pre>
<p>æœ‰ç¬¦å·æ•°ï¼šè¿™é‡Œæœ‰å¤§ç¥æäº†é—®é¢˜â€”â€”ä¸¤ä¸ªå‡æ³•å™¨çš„muxï¼Œå’Œä¸€ä¸ªå‡æ³•ä¸€ä¸ªabsï¼Œå“ªä¸ªé€»è¾‘é¢ç§¯æ›´å°ï¼Ÿå¯ä»¥ç”¨å·¥å…·è·‘è·‘çœ‹ã€‚ï¼ˆå¾…è§£å†³ï¼‰</p>
<ol>
<li>ä¸¤ä¸ªå‡æ³•å™¨çš„mux:</li>
</ol>
<pre><code class="language-v">module abs(
    input  signed [7:0]   i_x,
    input  signed [7:0]   i_y,
    output        [8:0]   o_z
    );

wire   signed [8:0]   z_r;
assign  z_r = (i_x &gt; i_y) ? (i_x - i_y) : (i_y - i_x);

assign  o_z = z_r;

endmodule
</code></pre>
<ol start="2">
<li>ä¸€ä¸ªå‡æ³•å™¨ã€ä¸€ä¸ªabsï¼šè‹¥æœ‰ç¬¦å·æ•°ä¸ºè´Ÿæ•°åˆ™æœ‰<code>|A|=~A+1</code></li>
</ol>
<pre><code class="language-v">module abs(
    input  signed [7:0]   i_x,
    input  signed [7:0]   i_y,
    output        [8:0]   o_z
    );

wire   signed [8:0]   dout_r;
assign  dout_r = i_x - i_y;

assign  o_z = (dout_r[8] == 1'b1)? (~dout_r + 1'b1):dout_r;

endmodule
</code></pre>
<h3 id="é¢˜ç›®018">é¢˜ç›®018</h3>
<p><strong>018.ç”¨Verilogå®ç°å–æ•´å‡½æ•°ï¼ˆceilã€floorã€roundï¼‰ã€‚ä»¥5bitä¸ºä¾‹ï¼Œå°æ•°éƒ¨åˆ†1ä½ï¼Œå–æ•´åä¿ç•™4bitã€‚</strong></p>
<blockquote>
<p>wire [4:0] data;<br>
wire [3:0] data_ceil;<br>
wire [3:0] data_floor;<br>
wire [3:0] data_round;</p>
</blockquote>
<h4 id="åŸºç¡€çŸ¥è¯†">åŸºç¡€çŸ¥è¯†</h4>
<p>floor(x)ï¼Œè¡¨ç¤ºä¸è¶…è¿‡xçš„æ•´æ•°ä¸­æœ€å¤§çš„ä¸€ä¸ªã€‚æœè´Ÿæ— ç©·æ–¹å‘å–æ•´ã€‚<br>
ceil(x)ï¼Œè¡¨ç¤ºä¸å°äºxçš„æ•´æ•°ä¸­æœ€å°çš„ä¸€ä¸ªã€‚æœæ­£æ— ç©·æ–¹å‘å–æ•´ã€‚<br>
round(x)å››èˆäº”å…¥åˆ°æœ€è¿‘çš„æ•´æ•°ã€‚</p>
<h4 id="æ€è·¯-2">æ€è·¯</h4>
<p>dataä¸ºæœ‰ç¬¦å·æ•°ï¼ˆ2è¡¥ç ï¼‰ï¼Œåªæœ‰1bitçš„å°æ•°ä½ï¼Œç²¾åº¦æœ‰é™ï¼Œæ‰€ä»¥å‡è®¾dataéƒ½æ˜¯å°æ•°ï¼Œä¾‹å¦‚æ•´æ•°éƒ¨åˆ†æ˜¯7ï¼Œåˆ™dataåªèƒ½è¡¨ç¤ºå¤§äº7.5æˆ–å°äº7.5çš„å°æ•°ï¼Œä¸è¡¨ç¤ºæ•´æ•°7ã€‚<br>
floorâ€”â€”éè´Ÿå–æ•´å³å¯ï¼Œè´Ÿæ•°å–æ•´å‡ä¸€ï¼›<br>
ceilâ€”â€”æ­£æ•°ï¼Œå–æ•´+1ï¼Œéæ­£æ•°å–æ•´å³å¯ï¼›<br>
roundâ€”â€”å°æ•°ä½ä¸º1ï¼Œå–æ•´+1ï¼›å°æ•°ä½ä¸º0ï¼Œå–æ•´å³å¯ã€‚</p>
<h4 id="verilogæè¿°-7">verilogæè¿°</h4>
<pre><code class="language-v">module test18(
    input   [4:0] data      ,
    output  [3:0] data_ceil ,
    output  [3:0] data_floor,
    output  [3:0] data_round
    );
    assign data_ceil = data[4] == 1'b0 ? {1'b0,data[3:1]+1'b1} : data[4:1];
    assign data_floor = data[4] == 1'b0 ? data[4:1] : data[4:1]-1'b1;
    assign data_round = data[0] == 1'b0 ? data[4:1] : data[4:1]+1'b1;
endmodule
</code></pre>
<h4 id="testbench">testbench</h4>
<pre><code class="language-v">module tb18(    );

reg             [4:0] data      ;
wire            [3:0] data_ceil ;
wire            [3:0] data_floor;
wire            [3:0] data_round;

reg signed [3:0] data_int = -4'sd8;
reg              data_dec = 1'b1;

initial
fork
  repeat(15) #20 data_int = data_int + 2'sd1;
  repeat(30) #10 data_dec = ~ data_dec;
join

always @ (*) data = {data_int,data_dec};

test18 int_get(
  .data        ( data      ),
  .data_ceil   ( data_ceil ),
  .data_floor  ( data_floor),
  .data_round  ( data_round)
);

endmodule
</code></pre>
<h4 id="ä»¿çœŸç»“æœ">ä»¿çœŸç»“æœ</h4>
<p>ä»¿çœŸç»“æœè§å›¾ï¼Œå…¶ä¸­æœ‰ä¸¤å¤„æº¢å‡ºï¼Œåˆ†åˆ«åœ¨data_flooræœ€å·¦å’Œdata_ceilæœ€å³ã€‚æœ¬é¢˜é™å®šæ¡ä»¶ä¸‹æ— æ³•è§£å†³ï¼ˆå¢åŠ ä½å®½å³å¯ï¼‰ã€‚</p>
<center>
    <img src="https://wx3.sinaimg.cn/large/7f79daaely1g1e1asv4jwj20rk05wmxg.jpg" alt="ä»¿çœŸç»“æœ" title="ä»¿çœŸç»“æœ">
</center>
<h3 id="é¢˜ç›®019">é¢˜ç›®019</h3>
<p>ç¬¬åä¹é¢˜.ç”¨verilogå®ç°ä¹˜æ³•<code>y = a * b</code><br>
aå’Œbéƒ½æ˜¯8bitï¼Œè€ƒè™‘ä¸‰ç§æƒ…å†µï¼š</p>
<ol>
<li>éƒ½æ˜¯æ— ç¬¦å·æ•°</li>
<li>éƒ½æ˜¯æœ‰ç¬¦å·æ•°</li>
<li>aæ˜¯æœ‰ç¬¦å·æ•°ï¼Œbæ˜¯æ— ç¬¦å·æ•°</li>
</ol>
<h4 id="verilogæè¿°-8">verilogæè¿°</h4>
<pre><code class="language-v">//1)
module test19(
    input       [ 7:0]  i_a     ,
    input       [ 7:0]  i_b     ,
    output      [15:0]  o_y
    );

    assign o_y = i_a * i_b;
endmodule
</code></pre>
<pre><code class="language-v">//2)
module test19(
    input    signed   [ 7:0]  i_a     ,
    input    signed   [ 7:0]  i_b     ,
    output   signed   [14:0]  o_y
    );

    assign o_y = i_a * i_b;
endmodule
</code></pre>
<pre><code class="language-v">//3)
module test19(
    input    signed   [ 7:0]  i_a     ,
    input             [ 7:0]  i_b     ,
    output   signed   [15:0]  o_y
    );
    wire    signed  [8:0]   b_r;
    assign b_r = {1'b0,i_b};

    assign o_y = i_a * b_r;
endmodule
</code></pre>
<h4 id="æ³¨æ„-2">æ³¨æ„</h4>
<p>ç¬¬3å°é—®è‹¥ç›´æ¥ç”¨<code>$signed()</code>æœºåˆ¶ï¼ˆå³<code>assign o_y = i_a * $signed(i_b);</code>ï¼‰çš„è¯ï¼Œè®¡ç®—ç»“æœå¹¶ä¸åŒï¼Œæ¯”å¦‚ï¼šaä¸º127ï¼Œbä¸º255ï¼Œy=127*255=32385ï¼›ä½¿ç”¨<code>$signed()</code>çš„è¯ï¼Œ<code>y=127*$signed(255)=127*(-1)=-127</code>ã€‚è¦æ³¨æ„ä¸¤è€…çš„åŒºåˆ«ã€‚å¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ–¹æ³•ï¼š</p>
<pre><code class="language-v"> module test19(
    input    signed   [ 7:0]  i_a     ,
    input             [ 7:0]  i_b     ,
    output   signed   [15:0]  o_y
    );
    assign o_y = i_a * $signed({1'b0,i_b});
endmodule
</code></pre>
<h3 id="é¢˜ç›®020">é¢˜ç›®020</h3>
<p><strong>020.è¾“å…¥ä¸€ä¸ª8bitæ•°ï¼Œç»Ÿè®¡å…¶ä¸­1çš„ä¸ªæ•°ã€‚</strong></p>
<h4 id="verilogæè¿°-9">verilogæè¿°</h4>
<pre><code class="language-v">module test_20(
	input 	[7:0]	i_data,
	output	[2:0]	o_count
);
assign o_count = ( ( (i_data[0] + i_data[1]) + (i_data[2] + i_data[3]) ) + ( (i_data[4] +  i_data[5]) + (i_data[6] + i_data[7]) ) );

endmodule
</code></pre>
<h4 id="é™„åŠ é¢˜">é™„åŠ é¢˜</h4>
<p><strong>æœ¬é¢˜è‡³å°‘ä½¿ç”¨å¤šå°‘ä¸ª1bitå…¨åŠ å™¨</strong></p>
<p>ä¸‹å›¾ä½¿ç”¨å…«ä¸ª1æ¥è¯´æ˜ã€‚è‹¥ä¸æ˜¯æœ€å°‘è¯·æŒ‡æ­£ã€‚</p>
<center>
    <img src="https://ws1.sinaimg.cn/large/7f79daaely1g1ol572qzdj20ss0ssact.jpg" alt="å…¨åŠ å™¨è®¡æ•°" title="å…¨åŠ å™¨è®¡æ•°" width="300">
</center>
<h3 id="é¢˜ç›®021">é¢˜ç›®021</h3>
<p><strong>021.æ±‚ä¸‰ä¸ªæ•°çš„æœ€å¤§å€¼ï¼š</strong></p>
<blockquote>
<p>y = max(a,b,c)<br>
wire [3:0] a,b,c;</p>
</blockquote>
<h4 id="verilogæè¿°-10">verilogæè¿°</h4>
<pre><code class="language-v">module test21(
    input   signed [3:0] a,b,c,
    output  reg [3:0] max
    );
    always @ (*) begin
        if (a &gt;= b &amp;&amp; a &gt;= c)
            max = a;
        else if (b &gt;= a &amp;&amp; b &gt;= c)
            max = b;
        else if (c &gt;= b &amp;&amp; c &gt;= a)
            max = c;
        else
            max = max;
    end
endmodule
</code></pre>
 </p>
                      </div>
                  </div>

                  <div class="row">
                      <div class="col-md-12 animate-box">
                          
                              <div class="next-post">
                                  <div class="next">ä¸‹ä¸€ç¯‡</div>
                                  <a href="https://halftop.github.io/post/verilog99_10">
                                      <h3 class="post-title">
                                          verilog99é¢˜â€”â€”10é¢˜
                                      </h3>
                                  </a>
                              </div>
                          
                      </div>
                  </div>

                  <div class="row">
                      <div class="col-md-12 animate-box">
                          
                              
                                  <div id="gitalk-container"></div>
                              

                              
                          
                      </div>
                  </div>
              </div>

          </article>
      </div>
  </div>

    
<footer id="fh5co-footer">
  <p>Stop learning,do it!</p>
</footer>


    
<!-- jQuery -->
<script src="https://halftop.github.io/media/scripts/_vendors/jquery.min.js"></script>
<!-- jQuery Easing -->
<script src="https://halftop.github.io/media/scripts/_vendors/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="https://halftop.github.io/media/scripts/_vendors/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="https://halftop.github.io/media/scripts/_vendors/jquery.waypoints.min.js"></script>
<!-- Main JS -->
<script src="https://halftop.github.io/media/scripts/_vendors/main.js"></script>
<!-- Md5 Min JS -->
<script src="https://halftop.github.io/media/scripts/_vendors/md5.min.js"></script>

<script type="application/javascript">
    hljs.initHighlightingOnLoad();
</script>



    
        <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
        <script>

            var gitalk = new Gitalk({
                clientID: '42b8247150af6c920554',
                clientSecret: 'ea9863ece62308a1854e39455221fa1ace6f8cd6',
                repo: 'halftop.github.io',
                owner: 'halftop',
                admin: ['halftop'],
                id: md5(location.pathname),      // Ensure uniqueness and length less than 50
                distractionFreeMode: false  // Facebook-like distraction free mode
            })

            gitalk.render('gitalk-container')

        </script>
    

    




  </body>
</html>
